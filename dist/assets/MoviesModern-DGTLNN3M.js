import{z as be,G as a,J as Ne,K as oe,N as ce,O as de,c as Te,a as Re,r as h,Q as Ee,j as e,U as Pe,d as H,e as p,C as G,L as Le,R as De,E as he,S as j,T as Ie,f as m,m as Ae,n as Fe,I as Oe,x as ie,B as ue,p as xe,k as pe,y as fe,D as _e,h as ge,o as je,V as me,H as ye,W as ve,l as we}from"./index-bcuI966E.js";import{B as ae}from"./Breadcrumb-DGaUwC5q.js";import{R as Be}from"./BookOutlined-CZ33YK4K.js";import{P as $e}from"./Pagination-KlOrN12m.js";import{S as V}from"./index-COd8B_t3.js";import"./DownOutlined-DeH2MZMn.js";const He=i=>{const{componentCls:d}=i;return{[d]:{position:"fixed",zIndex:i.zIndexPopup}}},Ge=i=>({zIndexPopup:i.zIndexBase+10}),Ve=be("Affix",He,Ge);function W(i){return i!==window?i.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function Se(i,d,o){if(o!==void 0&&Math.round(d.top)>Math.round(i.top)-o)return o+d.top}function Ce(i,d,o){if(o!==void 0&&Math.round(d.bottom)<Math.round(i.bottom)+o){const l=window.innerHeight-d.bottom;return o+l}}var Ue=function(i,d){var o={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&d.indexOf(l)<0&&(o[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,l=Object.getOwnPropertySymbols(i);x<l.length;x++)d.indexOf(l[x])<0&&Object.prototype.propertyIsEnumerable.call(i,l[x])&&(o[l[x]]=i[l[x]]);return o};const ze=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function Ke(){return typeof window<"u"?window:null}const ke=0,Me=1,Ye=a.forwardRef((i,d)=>{var o;const{style:l,offsetTop:x,offsetBottom:k,prefixCls:U,className:b,rootClassName:K,children:N,target:w,onChange:S,onTestUpdatePosition:Z}=i,R=Ue(i,["style","offsetTop","offsetBottom","prefixCls","className","rootClassName","children","target","onChange","onTestUpdatePosition"]),{getPrefixCls:Y,getTargetContainer:A}=a.useContext(Ne),F=Y("affix",U),[E,q]=a.useState(!1),[f,ee]=a.useState(),[O,X]=a.useState(),v=a.useRef(ke),_=a.useRef(null),P=a.useRef(null),L=a.useRef(null),D=a.useRef(null),I=a.useRef(null),g=(o=w??A)!==null&&o!==void 0?o:Ke,C=k===void 0&&x===void 0?0:x,te=()=>{if(v.current!==Me||!D.current||!L.current||!g)return;const s=g();if(s){const n={status:ke},r=W(L.current);if(r.top===0&&r.left===0&&r.width===0&&r.height===0)return;const c=W(s),T=Se(r,c,C),le=Ce(r,c,k);T!==void 0?(n.affixStyle={position:"fixed",top:T,width:r.width,height:r.height},n.placeholderStyle={width:r.width,height:r.height}):le!==void 0&&(n.affixStyle={position:"fixed",bottom:le,width:r.width,height:r.height},n.placeholderStyle={width:r.width,height:r.height}),n.lastAffix=!!n.affixStyle,E!==n.lastAffix&&S?.(n.lastAffix),v.current=n.status,ee(n.affixStyle),X(n.placeholderStyle),q(n.lastAffix)}},B=()=>{v.current=Me,te()},z=oe(()=>{B()}),M=oe(()=>{if(g&&f){const s=g();if(s&&L.current){const n=W(s),r=W(L.current),c=Se(r,n,C),T=Ce(r,n,k);if(c!==void 0&&f.top===c||T!==void 0&&f.bottom===T)return}}B()}),$=()=>{const s=g?.();s&&(ze.forEach(n=>{var r;P.current&&((r=_.current)===null||r===void 0||r.removeEventListener(n,P.current)),s?.addEventListener(n,M)}),_.current=s,P.current=M)},J=()=>{I.current&&(clearTimeout(I.current),I.current=null);const s=g?.();ze.forEach(n=>{var r;s?.removeEventListener(n,M),P.current&&((r=_.current)===null||r===void 0||r.removeEventListener(n,P.current))}),z.cancel(),M.cancel()};a.useImperativeHandle(d,()=>({updatePosition:z})),a.useEffect(()=>(I.current=setTimeout($),()=>J()),[]),a.useEffect(()=>($(),()=>J()),[w,f,E,x,k]),a.useEffect(()=>{z()},[w,x,k]);const[Q,se,ne]=Ve(F),re=ce(K,se,F,ne),t=ce({[re]:f});return Q(a.createElement(de,{onResize:z},a.createElement("div",Object.assign({style:l,className:b,ref:L},R),f&&a.createElement("div",{style:O,"aria-hidden":"true"}),a.createElement("div",{className:t,ref:D,style:f},a.createElement(de,{onResize:z},N)))))});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Xe=Te("grid-3x3",qe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Qe=Te("list",Je),{Search:We}=Oe,{Option:u}=V,{Title:Ze,Text:y,Paragraph:et}=Ie,{Meta:tt}=G,ot=()=>{const i=Re(),[d,o]=h.useState([]),[l,x]=h.useState([]),[k,U]=h.useState(!0),[b,K]=h.useState(""),[N,w]=h.useState("all"),[S,Z]=h.useState("all"),[R,Y]=h.useState("all"),[A,F]=h.useState("popularity"),[E,q]=h.useState("desc"),[f,ee]=h.useState("grid"),[O,X]=h.useState(1),[v,_]=h.useState(new Set),[P,L]=h.useState(!1),D=12;h.useEffect(()=>{I()},[]),h.useEffect(()=>{g()},[d,b,N,S,R,A,E]);const I=async()=>{U(!0),await new Promise(s=>setTimeout(s,800));const t=Ee.map((s,n)=>({...s,id:s.id||n+1,poster:s.poster||`https://picsum.photos/300/450?random=${n}`,backdrop:s.backdrop||s.poster||`https://picsum.photos/1200/800?random=${n}`,rating:s.rating||(Math.random()*3+7).toFixed(1),overview:s.overview||"Một bộ phim tuyệt vời với cốt truyện hấp dẫn và diễn xuất xuất sắc.",genre:s.genre||["Hành động","Phiêu lưu","Hài kịch","Tâm lý","Kinh dị"][Math.floor(Math.random()*5)],duration:s.duration||Math.floor(Math.random()*60+90),popularity:Math.floor(Math.random()*100),views:Math.floor(Math.random()*1e5+1e4)}));o(t),U(!1)},g=()=>{let t=d.filter(s=>{const n=s.title.toLowerCase().includes(b.toLowerCase())||s.overview?.toLowerCase().includes(b.toLowerCase()),r=N==="all"||s.genre?.includes(N),c=S==="all"||C(s)===S,T=R==="all"||te(s.rating)===R;return n&&r&&c&&T});t.sort((s,n)=>{let r,c;switch(A){case"title":r=s.title.toLowerCase(),c=n.title.toLowerCase();break;case"rating":r=parseFloat(s.rating),c=parseFloat(n.rating);break;case"releaseDate":r=new Date(s.releaseDate||"2024-01-01"),c=new Date(n.releaseDate||"2024-01-01");break;case"popularity":r=s.popularity,c=n.popularity;break;case"views":r=s.views,c=n.views;break;default:r=s.popularity,c=n.popularity}return E==="asc"?r>c?1:-1:r<c?1:-1}),x(t),X(1)},C=t=>{if(!t.releaseDate)return"now-showing";const s=t.releaseDate.includes(".")?Number(t.releaseDate.split(".")[2]):new Date(t.releaseDate).getFullYear(),n=new Date().getFullYear();return s>n?"upcoming":"now-showing"},te=t=>{const s=parseFloat(t);return s>=8.5?"excellent":s>=7.5?"good":s>=6?"average":"below-average"},B=(t,s)=>{s.preventDefault(),s.stopPropagation();const n=new Set(v);n.has(t)?n.delete(t):n.add(t),_(n)},z=(t,s)=>{s.preventDefault(),s.stopPropagation(),console.log("Sharing movie:",t.title)},M=(t,s)=>{s.preventDefault(),s.stopPropagation(),console.log("Playing trailer for:",t.title)},$=()=>{K(""),w("all"),Z("all"),Y("all"),F("popularity"),q("desc")},J=["Hành động","Phiêu lưu","Hài kịch","Tâm lý","Kinh dị","Lãng mạn","Khoa học viễn tưởng","Hoạt hình"],Q=l.slice((O-1)*D,O*D),se=()=>e.jsx(G,{className:"filter-section-modern",bodyStyle:{padding:"20px"},children:e.jsxs(H,{gutter:[16,16],align:"middle",children:[e.jsx(p,{xs:24,sm:12,md:6,children:e.jsx(We,{placeholder:"Tìm kiếm phim...",value:b,onChange:t=>K(t.target.value),size:"large",allowClear:!0})}),e.jsx(p,{xs:24,sm:12,md:4,children:e.jsxs(V,{value:N,onChange:w,size:"large",style:{width:"100%"},children:[e.jsx(u,{value:"all",children:"Tất cả thể loại"}),J.map(t=>e.jsx(u,{value:t,children:t},t))]})}),e.jsx(p,{xs:24,sm:12,md:4,children:e.jsxs(V,{value:S,onChange:Z,size:"large",style:{width:"100%"},children:[e.jsx(u,{value:"all",children:"Tất cả trạng thái"}),e.jsx(u,{value:"now-showing",children:"Đang chiếu"}),e.jsx(u,{value:"upcoming",children:"Sắp chiếu"})]})}),e.jsx(p,{xs:24,sm:12,md:3,children:e.jsxs(V,{value:R,onChange:Y,size:"large",style:{width:"100%"},children:[e.jsx(u,{value:"all",children:"Mọi đánh giá"}),e.jsx(u,{value:"excellent",children:"8.5+ sao"}),e.jsx(u,{value:"good",children:"7.5+ sao"}),e.jsx(u,{value:"average",children:"6.0+ sao"})]})}),e.jsx(p,{xs:24,sm:12,md:3,children:e.jsxs(V,{value:`${A}-${E}`,onChange:t=>{const[s,n]=t.split("-");F(s),q(n)},size:"large",style:{width:"100%"},children:[e.jsx(u,{value:"popularity-desc",children:"Phổ biến nhất"}),e.jsx(u,{value:"rating-desc",children:"Đánh giá cao"}),e.jsx(u,{value:"releaseDate-desc",children:"Mới nhất"}),e.jsx(u,{value:"title-asc",children:"Tên A-Z"}),e.jsx(u,{value:"views-desc",children:"Xem nhiều"})]})}),e.jsx(p,{xs:24,sm:12,md:4,children:e.jsxs(j,{children:[e.jsx(ie,{title:f==="grid"?"Chế độ danh sách":"Chế độ lưới",children:e.jsx(m,{icon:f==="grid"?e.jsx(Qe,{size:16}):e.jsx(Xe,{size:16}),onClick:()=>ee(f==="grid"?"list":"grid"),size:"large"})}),e.jsx(m,{onClick:$,size:"large",children:"Đặt lại"})]})})]})}),ne=({movie:t})=>e.jsx(ue.Ribbon,{text:C(t)==="upcoming"?"Sắp chiếu":"Đang chiếu",color:C(t)==="upcoming"?"blue":"volcano",children:e.jsxs(G,{hoverable:!0,className:"movie-card-modern",cover:e.jsxs("div",{className:"movie-cover-modern",children:[e.jsx("img",{src:t.poster,alt:t.title,className:"movie-poster-modern"}),e.jsxs("div",{className:"movie-overlay-modern",children:[e.jsxs("div",{className:"overlay-content",children:[e.jsx(m,{type:"primary",shape:"circle",size:"large",icon:e.jsx(me,{size:20}),className:"play-btn-modern",onClick:s=>M(t,s)}),e.jsxs("div",{className:"quick-actions-modern",children:[e.jsx(ie,{title:"Yêu thích",children:e.jsx(m,{type:"text",shape:"circle",icon:e.jsx(ye,{size:16,fill:v.has(t.id)?"#ff4d4f":"none",color:v.has(t.id)?"#ff4d4f":"#fff"}),onClick:s=>B(t.id,s)})}),e.jsx(ie,{title:"Chia sẻ",children:e.jsx(m,{type:"text",shape:"circle",icon:e.jsx(ve,{size:16,color:"#fff"}),onClick:s=>z(t,s)})})]})]}),e.jsxs("div",{className:"rating-badge-modern",children:[e.jsx(we,{size:14,fill:"#faad14",color:"#faad14"}),e.jsx("span",{children:t.rating})]})]})]}),bodyStyle:{padding:"16px"},onClick:()=>i(`/movies/${t.id}`),children:[e.jsx(tt,{title:e.jsx(y,{ellipsis:{tooltip:t.title},className:"movie-title-modern",children:t.title}),description:e.jsxs(j,{direction:"vertical",size:6,style:{width:"100%"},children:[e.jsxs(j,{size:4,wrap:!0,children:[e.jsx(xe,{color:"processing",children:t.genre}),e.jsxs(y,{type:"secondary",style:{fontSize:"12px"},children:[e.jsx(pe,{size:12,style:{marginRight:4}}),t.duration," phút"]})]}),e.jsx(y,{type:"secondary",ellipsis:{rows:2,tooltip:t.overview},style:{fontSize:"12px",lineHeight:"1.4"},children:t.overview}),e.jsxs(j,{size:4,style:{width:"100%",justifyContent:"space-between"},children:[e.jsxs(j,{size:4,children:[e.jsx(fe,{style:{fontSize:"12px"}}),e.jsx(y,{style:{fontSize:"11px"},children:t.views?.toLocaleString()})]}),e.jsx(y,{style:{fontSize:"11px"},type:"secondary",children:t.releaseDate})]})]})}),e.jsx(_e,{style:{margin:"8px 0"}}),e.jsxs(j,{size:8,style:{width:"100%"},children:[e.jsx(m,{type:"primary",size:"small",icon:e.jsx(ge,{size:14}),style:{flex:1},children:"Đặt vé"}),e.jsx(m,{size:"small",icon:e.jsx(je,{size:14}),children:"Lịch"})]})]})}),re=({movie:t})=>e.jsx(G,{className:"movie-list-card-modern",bodyStyle:{padding:"20px"},onClick:()=>i(`/movies/${t.id}`),children:e.jsxs(H,{gutter:16,align:"middle",children:[e.jsx(p,{xs:6,sm:4,md:3,children:e.jsxs("div",{className:"list-poster-container",children:[e.jsx("img",{src:t.poster,alt:t.title,className:"list-poster"}),e.jsx(ue,{count:C(t)==="upcoming"?"Sắp chiếu":"Đang chiếu",color:C(t)==="upcoming"?"blue":"volcano",style:{position:"absolute",top:5,right:5}})]})}),e.jsx(p,{xs:18,sm:20,md:21,children:e.jsxs(H,{gutter:[16,8],align:"middle",children:[e.jsxs(p,{xs:24,md:12,children:[e.jsx(Ze,{level:4,className:"list-movie-title",children:t.title}),e.jsxs(j,{wrap:!0,size:8,children:[e.jsx(xe,{color:"processing",children:t.genre}),e.jsxs(y,{type:"secondary",children:[e.jsx(pe,{size:12,style:{marginRight:4}}),t.duration," phút"]}),e.jsxs(y,{type:"secondary",children:[e.jsx(je,{size:12,style:{marginRight:4}}),t.releaseDate]})]}),e.jsx(et,{ellipsis:{rows:2},style:{marginTop:8,marginBottom:0},children:t.overview})]}),e.jsx(p,{xs:24,md:6,children:e.jsxs(j,{direction:"vertical",align:"center",children:[e.jsxs(j,{children:[e.jsx(we,{size:16,fill:"#faad14",color:"#faad14"}),e.jsx(y,{strong:!0,style:{fontSize:"16px"},children:t.rating})]}),e.jsxs(y,{type:"secondary",style:{fontSize:"12px"},children:[e.jsx(fe,{})," ",t.views?.toLocaleString()," lượt xem"]})]})}),e.jsx(p,{xs:24,md:6,children:e.jsxs(j,{direction:"vertical",style:{width:"100%"},children:[e.jsx(m,{type:"primary",icon:e.jsx(ge,{size:14}),block:!0,children:"Đặt vé"}),e.jsxs(j,{style:{width:"100%"},children:[e.jsx(m,{icon:e.jsx(me,{size:14}),onClick:s=>M(t,s),style:{flex:1},children:"Trailer"}),e.jsx(m,{icon:e.jsx(ye,{size:14,fill:v.has(t.id)?"#ff4d4f":"none",color:v.has(t.id)?"#ff4d4f":void 0}),onClick:s=>B(t.id,s)}),e.jsx(m,{icon:e.jsx(ve,{size:14}),onClick:s=>z(t,s)})]})]})})]})})]})});return k?e.jsx("div",{className:"movies-modern loading",children:e.jsxs("div",{className:"container",children:[e.jsx(Pe,{active:!0,paragraph:{rows:2}}),e.jsx(H,{gutter:[16,16],style:{marginTop:24},children:[...Array(8)].map((t,s)=>e.jsx(p,{xs:12,sm:8,md:6,lg:4,children:e.jsx(G,{loading:!0})},s))})]})}):e.jsxs("div",{className:"movies-modern",children:[e.jsx("div",{className:"breadcrumb-section",children:e.jsx("div",{className:"container",children:e.jsxs(ae,{children:[e.jsx(ae.Item,{children:e.jsxs(Le,{to:"/",children:[e.jsx(De,{})," Trang chủ"]})}),e.jsxs(ae.Item,{children:[e.jsx(Be,{})," Phim"]})]})})}),e.jsxs("div",{className:"container",children:[e.jsx(Ye,{offsetTop:80,children:e.jsx(se,{})}),e.jsx("div",{className:"movies-content",children:l.length>0?e.jsxs(e.Fragment,{children:[f==="grid"?e.jsx(H,{gutter:[16,24],className:"movies-grid-modern",children:Q.map(t=>e.jsx(p,{xs:12,sm:8,md:6,lg:4,children:e.jsx(ne,{movie:t})},t.id))}):e.jsx("div",{className:"movies-list-modern",children:Q.map(t=>e.jsx(re,{movie:t},t.id))}),e.jsx("div",{className:"pagination-section",children:e.jsx($e,{current:O,pageSize:D,total:l.length,onChange:X,showSizeChanger:!1,showQuickJumper:!0,showTotal:(t,s)=>`${s[0]}-${s[1]} của ${t} phim`,size:"large"})})]}):e.jsx(he,{image:he.PRESENTED_IMAGE_SIMPLE,description:e.jsxs(j,{direction:"vertical",align:"center",children:[e.jsx(y,{children:"Không tìm thấy phim nào phù hợp"}),e.jsx(m,{type:"primary",onClick:$,children:"Đặt lại bộ lọc"})]}),className:"empty-state-modern"})})]}),e.jsx(Ae,{style:{height:50,width:50,backgroundColor:"#ff6b35",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(255, 107, 53, 0.3)"},children:e.jsx(Fe,{style:{color:"white",fontSize:"20px"}})})]})};export{ot as default};
