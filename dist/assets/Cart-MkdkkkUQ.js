import{a as k,r as x,j as e,T as b,d as f,e as n,C as j,E as w,f as a,S as c,p as z,D as q,s as T}from"./index-bcuI966E.js";import{R}from"./ShoppingCartOutlined-CpHV9pLb.js";import{L as N}from"./index-B6-RBrWM.js";import{R as L}from"./MinusOutlined-Cy96m5bB.js";import{T as E}from"./index-CJAnxsAG.js";import{R as G}from"./PlusOutlined-WAyayBFJ.js";import{R as B}from"./DeleteOutlined-CNMFFws8.js";import"./index-COd8B_t3.js";import"./DownOutlined-DeH2MZMn.js";import"./Pagination-KlOrN12m.js";const{Title:l,Text:r}=b,X=()=>{const g=k(),[t,o]=x.useState([]),[C,I]=x.useState(!0);x.useEffect(()=>{const s=[{id:1,movieTitle:"Transformer: Rise of the Beasts",cinema:"CGV Nguy·ªÖn VƒÉn C·ª´",showtime:"19:30 - 21:45",date:"2025-07-29",seats:["A5","A6"],price:12e4,quantity:2,poster:"/images/transformer.jpg"},{id:2,movieTitle:"Avatar: The Way of Water",cinema:"Galaxy Nguy·ªÖn Du",showtime:"20:00 - 23:15",date:"2025-07-30",seats:["B8","B9","B10"],price:15e4,quantity:3,poster:"/images/avatar.jpg"}];setTimeout(()=>{o(s),I(!1)},1e3)},[]);const d=(s,i)=>{if(i<=0){p(s);return}o(h=>h.map(m=>m.id===s?{...m,quantity:i}:m))},p=s=>{o(i=>i.filter(h=>h.id!==s)),T.success("ƒê√£ x√≥a kh·ªèi gi·ªè h√†ng")},u=()=>t.reduce((s,i)=>s+i.price*i.quantity,0),v=()=>t.reduce((s,i)=>s+i.quantity,0),S=()=>{if(t.length===0){T.warning("Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng");return}localStorage.setItem("checkoutItems",JSON.stringify(t)),g("/booking/confirm")},y=()=>{g("/movies")};return e.jsxs("div",{className:"cart-page",children:[e.jsxs("div",{className:"cart-header",children:[e.jsxs(l,{level:2,children:[e.jsx(R,{})," Gi·ªè h√†ng c·ªßa b·∫°n"]}),e.jsx(r,{type:"secondary",children:t.length>0?`${v()} v√© phim`:"Gi·ªè h√†ng tr·ªëng"})]}),e.jsxs(f,{gutter:[24,24],children:[e.jsx(n,{xs:24,lg:16,children:e.jsx(j,{className:"cart-items-card",children:t.length===0?e.jsx(w,{image:"/images/empty-cart.svg",description:e.jsxs("div",{children:[e.jsx(r,{children:"Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng"}),e.jsx("br",{}),e.jsx(a,{type:"primary",style:{marginTop:16},onClick:y,children:"Kh√°m ph√° phim m·ªõi"})]})}):e.jsx(N,{loading:C,dataSource:t,renderItem:s=>e.jsx(N.Item,{className:"cart-item",children:e.jsx(j,{hoverable:!0,className:"cart-item-card",children:e.jsxs(f,{gutter:16,align:"middle",children:[e.jsx(n,{xs:24,sm:6,children:e.jsx("div",{className:"movie-poster",children:e.jsx("img",{src:s.poster,alt:s.movieTitle,onError:i=>{i.target.src="https://via.placeholder.com/200x300?text=Movie+Poster"}})})}),e.jsx(n,{xs:24,sm:12,children:e.jsxs("div",{className:"movie-info",children:[e.jsx(l,{level:4,children:s.movieTitle}),e.jsxs(c,{direction:"vertical",size:"small",children:[e.jsxs(r,{children:["üìç ",s.cinema]}),e.jsxs(r,{children:["üïê ",s.showtime]}),e.jsxs(r,{children:["üìÖ ",s.date]}),e.jsxs("div",{children:["ü™ë ",s.seats.map(i=>e.jsx(z,{color:"blue",children:i},i))]})]})]})}),e.jsx(n,{xs:24,sm:6,children:e.jsx("div",{className:"quantity-controls",children:e.jsxs(c,{direction:"vertical",size:"middle",style:{width:"100%"},children:[e.jsxs("div",{className:"price",children:[e.jsxs(r,{strong:!0,style:{fontSize:16,color:"#e50914"},children:[(s.price*s.quantity).toLocaleString(),"ƒë"]}),e.jsx("br",{}),e.jsxs(r,{type:"secondary",size:"small",children:[s.price.toLocaleString(),"ƒë/v√©"]})]}),e.jsx("div",{className:"quantity",children:e.jsxs(c,{children:[e.jsx(a,{size:"small",icon:e.jsx(L,{}),onClick:()=>d(s.id,s.quantity-1)}),e.jsx(E,{size:"small",min:1,value:s.quantity,onChange:i=>d(s.id,i),style:{width:60}}),e.jsx(a,{size:"small",icon:e.jsx(G,{}),onClick:()=>d(s.id,s.quantity+1)})]})}),e.jsx(a,{danger:!0,type:"text",icon:e.jsx(B,{}),onClick:()=>p(s.id),size:"small",children:"X√≥a"})]})})})]})})})})})}),e.jsx(n,{xs:24,lg:8,children:e.jsx(j,{className:"cart-summary-card",title:"T√≥m t·∫Øt ƒë∆°n h√†ng",children:e.jsxs(c,{direction:"vertical",size:"middle",style:{width:"100%"},children:[e.jsxs("div",{className:"summary-row",children:[e.jsx(r,{children:"S·ªë l∆∞·ª£ng v√©:"}),e.jsxs(r,{strong:!0,children:[v()," v√©"]})]}),e.jsxs("div",{className:"summary-row",children:[e.jsx(r,{children:"T·∫°m t√≠nh:"}),e.jsxs(r,{children:[u().toLocaleString(),"ƒë"]})]}),e.jsxs("div",{className:"summary-row",children:[e.jsx(r,{children:"Ph√≠ d·ªãch v·ª•:"}),e.jsx(r,{children:"0ƒë"})]}),e.jsx(q,{}),e.jsxs("div",{className:"summary-row total",children:[e.jsx(l,{level:4,children:"T·ªïng c·ªông:"}),e.jsxs(l,{level:4,style:{color:"#e50914",margin:0},children:[u().toLocaleString(),"ƒë"]})]}),e.jsxs(c,{direction:"vertical",size:"middle",style:{width:"100%"},children:[e.jsx(a,{type:"primary",size:"large",block:!0,onClick:S,disabled:t.length===0,children:"Ti·∫øn h√†nh thanh to√°n"}),e.jsx(a,{size:"large",block:!0,onClick:y,children:"Ti·∫øp t·ª•c mua v√©"})]})]})})})]})]})};export{X as default};
