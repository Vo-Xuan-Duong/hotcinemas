import{r as u,s as d,j as e,C as i,d as x,e as s,T as R,S as C,f as g,g as r,b as k}from"./index-bcuI966E.js";import{d as b}from"./dayjs.min-B6KFzVi6.js";import{A as P}from"./index-C2piJUMZ.js";import{R as n}from"./DollarCircleOutlined-DzIXrWfQ.js";import{R as B}from"./ShoppingCartOutlined-CpHV9pLb.js";const{Title:D,Text:c}=R,G=()=>{const[h,j]=u.useState([]),[a,v]=u.useState({totalRevenue:0,totalTickets:0,totalCustomers:0,avgTicketPrice:0}),o=[{id:1,userName:"Nguyễn Văn A",movieTitle:"Avengers: Endgame",cinemaName:"CGV Vincom",totalPrice:2e5,status:"confirmed",bookingDate:"2024-02-10T10:30:00Z"},{id:2,userName:"Trần Thị B",movieTitle:"Spider-Man: No Way Home",cinemaName:"Lotte Cinema",totalPrice:315e3,status:"confirmed",bookingDate:"2024-02-11T14:15:00Z"},{id:3,userName:"Phạm Văn C",movieTitle:"Top Gun: Maverick",cinemaName:"Galaxy Cinema",totalPrice:28e4,status:"confirmed",bookingDate:"2024-02-12T09:20:00Z"}];u.useEffect(()=>{j(o),p(o),d.success("Đã tải dữ liệu mẫu thành công!")},[]);const p=t=>{const f=t.reduce((m,N)=>m+N.totalPrice,0),l=t.length,T=new Set(t.map(m=>m.userName)).size,S=l>0?f/l:0;v({totalRevenue:f,totalTickets:l,totalCustomers:T,avgTicketPrice:S})},y=()=>{d.success("Đã xuất báo cáo thành công")};return e.jsxs("div",{className:"reports-page",children:[e.jsxs(i,{className:"controls-card",children:[e.jsx(P,{message:`Debug: ${h.length} bookings loaded`,type:"info",showIcon:!0,style:{marginBottom:16}}),e.jsxs(x,{justify:"space-between",align:"middle",children:[e.jsx(s,{children:e.jsxs(D,{level:2,style:{margin:0},children:[e.jsx(n,{})," Báo cáo Doanh thu"]})}),e.jsx(s,{children:e.jsxs(C,{children:[e.jsx(g,{type:"primary",icon:e.jsx(n,{}),onClick:y,children:"Xuất báo cáo"}),e.jsx(g,{onClick:()=>{j(o),p(o),d.success("Đã tải lại dữ liệu mẫu!")},children:"Tải lại dữ liệu"})]})})]})]}),e.jsxs(x,{gutter:16,style:{marginBottom:24},children:[e.jsx(s,{span:6,children:e.jsx(i,{children:e.jsx(r,{title:"Tổng doanh thu",value:a.totalRevenue,precision:0,valueStyle:{color:"#3f8600"},prefix:e.jsx(n,{}),suffix:"đ",formatter:t=>t.toLocaleString("vi-VN")})})}),e.jsx(s,{span:6,children:e.jsx(i,{children:e.jsx(r,{title:"Số vé bán",value:a.totalTickets,prefix:e.jsx(B,{}),valueStyle:{color:"#1890ff"}})})}),e.jsx(s,{span:6,children:e.jsx(i,{children:e.jsx(r,{title:"Khách hàng",value:a.totalCustomers,prefix:e.jsx(k,{}),valueStyle:{color:"#722ed1"}})})}),e.jsx(s,{span:6,children:e.jsx(i,{children:e.jsx(r,{title:"Giá vé trung bình",value:a.avgTicketPrice,precision:0,prefix:e.jsx(n,{}),suffix:"đ",valueStyle:{color:"#fa8c16"},formatter:t=>t.toLocaleString("vi-VN")})})})]}),e.jsx(i,{title:"Danh sách đặt vé",children:h.map(t=>e.jsx(i,{size:"small",style:{marginBottom:8},children:e.jsxs(x,{justify:"space-between",align:"middle",children:[e.jsxs(s,{children:[e.jsx(c,{strong:!0,children:t.userName}),e.jsx("br",{}),e.jsxs(c,{type:"secondary",children:[t.movieTitle," - ",t.cinemaName]})]}),e.jsxs(s,{children:[e.jsxs(c,{strong:!0,style:{color:"#52c41a"},children:[t.totalPrice.toLocaleString("vi-VN"),"đ"]}),e.jsx("br",{}),e.jsx(c,{type:"secondary",children:b(t.bookingDate).format("DD/MM/YYYY HH:mm")})]})]})},t.id))})]})};export{G as default};
