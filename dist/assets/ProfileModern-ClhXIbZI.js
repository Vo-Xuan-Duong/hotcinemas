import{c,u as U,F as o,r as d,j as e,L as O,R as X,b as J,C as l,d as p,e as r,B as T,A as Q,f as h,S as t,T as Z,P as ee,g as y,h as se,H as P,i as Y,I as g,D as te,k as D,l as ie,E as ae,m as re,n as ne,s as H,o as le,p as ce}from"./index-bcuI966E.js";import{d as b}from"./dayjs.min-B6KFzVi6.js";import{B as z}from"./Breadcrumb-DGaUwC5q.js";import{P as _,M as oe}from"./phone-DPWqunxc.js";import{D as de}from"./index-BexZ__8y.js";import{S as N}from"./index-COd8B_t3.js";import{F as he}from"./Table-BovAFv33.js";import"./DownOutlined-DeH2MZMn.js";import"./ClockCircleOutlined-CELcQ7Uv.js";import"./addEventListener-CwuRzLNG.js";import"./Pagination-KlOrN12m.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],L=c("bell",xe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],je=c("camera",me);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],ye=c("gift",pe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],B=c("mail",ge);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fe=c("save",ue);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],be=c("settings",ve);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],V=c("shield",ze);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ne=c("square-pen",ke);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Se=c("trophy",Me);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],k=c("user",Ce),{Title:we,Text:a,Paragraph:qe}=Z,{Option:x}=N,{TabPane:u}=Y,Re=()=>{const{user:i,updateUser:A}=U(),[f]=o.useForm(),[M,m]=d.useState(!1),[F,S]=d.useState(!1),[$,Ie]=d.useState(null),[G,E]=d.useState("info"),[n,Te]=d.useState({totalBookings:25,totalSpent:25e5,favoriteMovies:15,loyaltyPoints:1250,memberLevel:"VIP Gold",joinDate:"2023-01-15"}),[q,Pe]=d.useState([{id:1,movie:"Avengers: Endgame",cinema:"CGV Vincom Center",date:"2024-01-15",time:"19:30",seats:["G7","G8"],total:18e4,status:"completed"},{id:2,movie:"Spider-Man: No Way Home",cinema:"Lotte Cinema Diamond Plaza",date:"2024-01-10",time:"21:00",seats:["F5","F6"],total:2e5,status:"completed"}]),[C,De]=d.useState([{id:1,title:"The Dark Knight",poster:"https://picsum.photos/200/300?random=1",rating:9,year:2008},{id:2,title:"Inception",poster:"https://picsum.photos/200/300?random=2",rating:8.8,year:2010}]);d.useEffect(()=>{i&&f.setFieldsValue({name:i.name,email:i.email,phone:i.phone,birthDate:i.birthDate?b(i.birthDate):null,gender:i.gender,address:i.address,city:i.city})},[i,f]);const R=async s=>{S(!0);try{await new Promise(v=>setTimeout(v,1e3)),await A({...s,birthDate:s.birthDate?s.birthDate.format("YYYY-MM-DD"):null}),H.success("Cập nhật thông tin thành công!"),m(!1)}catch{H.error("Có lỗi xảy ra khi cập nhật thông tin!")}finally{S(!1)}},w=s=>{switch(s){case"VIP Gold":return"#faad14";case"VIP Silver":return"#bfbfbf";case"VIP Platinum":return"#722ed1";default:return"#1890ff"}},W=s=>{const j=[{name:"Bronze",min:0,max:500},{name:"Silver",min:500,max:1e3},{name:"Gold",min:1e3,max:2e3},{name:"Platinum",min:2e3,max:5e3}].find(I=>s>=I.min&&s<I.max);return j?(s-j.min)/(j.max-j.min)*100:100},K=[{title:"Phim",dataIndex:"movie",key:"movie",render:s=>e.jsx(a,{strong:!0,children:s})},{title:"Rạp",dataIndex:"cinema",key:"cinema"},{title:"Ngày chiếu",dataIndex:"date",key:"date",render:s=>e.jsxs(t,{children:[e.jsx(le,{size:14}),b(s).format("DD/MM/YYYY")]})},{title:"Giờ chiếu",dataIndex:"time",key:"time",render:s=>e.jsxs(t,{children:[e.jsx(D,{size:14}),s]})},{title:"Ghế",dataIndex:"seats",key:"seats",render:s=>s.join(", ")},{title:"Tổng tiền",dataIndex:"total",key:"total",render:s=>e.jsxs(a,{strong:!0,style:{color:"#ff6b35"},children:[s.toLocaleString("vi-VN"),"đ"]})},{title:"Trạng thái",dataIndex:"status",key:"status",render:s=>e.jsx(ce,{color:s==="completed"?"success":"processing",children:s==="completed"?"Hoàn thành":"Đang xử lý"})}];return e.jsxs("div",{className:"profile-modern",children:[e.jsx("div",{className:"breadcrumb-section",children:e.jsx("div",{className:"container",children:e.jsxs(z,{children:[e.jsx(z.Item,{children:e.jsxs(O,{to:"/",children:[e.jsx(X,{})," Trang chủ"]})}),e.jsxs(z.Item,{children:[e.jsx(J,{})," Hồ sơ cá nhân"]})]})})}),e.jsxs("div",{className:"container",children:[e.jsx(l,{className:"profile-header-card",children:e.jsxs(p,{gutter:[24,24],align:"middle",children:[e.jsx(r,{xs:24,sm:8,md:6,children:e.jsxs("div",{className:"avatar-section",children:[e.jsx(T,{count:e.jsx(h,{type:"primary",shape:"circle",icon:e.jsx(je,{size:16}),size:"small",onClick:()=>m(!0)}),offset:[-10,40],children:e.jsx(Q,{size:120,src:$||i?.avatar,icon:e.jsx(k,{size:40}),className:"profile-avatar"})}),e.jsx("div",{className:"user-level",children:e.jsx(T,{count:n.memberLevel,style:{backgroundColor:w(n.memberLevel),fontSize:"11px",fontWeight:600}})})]})}),e.jsx(r,{xs:24,sm:16,md:18,children:e.jsx("div",{className:"profile-info",children:e.jsxs(t,{direction:"vertical",size:8,style:{width:"100%"},children:[e.jsxs("div",{className:"name-section",children:[e.jsx(we,{level:2,style:{margin:0,color:"#1f2937"},children:i?.name||"Người dùng"}),e.jsxs(a,{type:"secondary",children:["Thành viên từ ",b(n.joinDate).format("DD/MM/YYYY")]})]}),e.jsxs(t,{wrap:!0,size:16,children:[e.jsxs(t,{size:4,children:[e.jsx(B,{size:16,color:"#6b7280"}),e.jsx(a,{children:i?.email})]}),e.jsxs(t,{size:4,children:[e.jsx(_,{size:16,color:"#6b7280"}),e.jsx(a,{children:i?.phone||"Chưa cập nhật"})]}),e.jsxs(t,{size:4,children:[e.jsx(oe,{size:16,color:"#6b7280"}),e.jsx(a,{children:i?.address||"Chưa cập nhật"})]})]}),e.jsx("div",{className:"loyalty-progress",children:e.jsxs(t,{direction:"vertical",style:{width:"100%"},children:[e.jsxs(t,{justify:"space-between",style:{width:"100%"},children:[e.jsxs(a,{strong:!0,children:["Điểm tích lũy: ",n.loyaltyPoints]}),e.jsx(a,{type:"secondary",children:n.memberLevel})]}),e.jsx(ee,{percent:W(n.loyaltyPoints),strokeColor:w(n.memberLevel),trailColor:"#f0f0f0",strokeWidth:8,showInfo:!1})]})})]})})})]})}),e.jsxs(p,{gutter:[16,16],className:"stats-section",children:[e.jsx(r,{xs:12,sm:6,children:e.jsx(l,{className:"stat-card",children:e.jsx(y,{title:"Tổng đặt vé",value:n.totalBookings,prefix:e.jsx(se,{size:20,color:"#ff6b35"}),valueStyle:{color:"#ff6b35",fontSize:"24px",fontWeight:"bold"}})})}),e.jsx(r,{xs:12,sm:6,children:e.jsx(l,{className:"stat-card",children:e.jsx(y,{title:"Tổng chi tiêu",value:n.totalSpent,prefix:e.jsx(ye,{size:20,color:"#10b981"}),suffix:"đ",valueStyle:{color:"#10b981",fontSize:"24px",fontWeight:"bold"},formatter:s=>s.toLocaleString("vi-VN")})})}),e.jsx(r,{xs:12,sm:6,children:e.jsx(l,{className:"stat-card",children:e.jsx(y,{title:"Phim yêu thích",value:n.favoriteMovies,prefix:e.jsx(P,{size:20,color:"#ef4444"}),valueStyle:{color:"#ef4444",fontSize:"24px",fontWeight:"bold"}})})}),e.jsx(r,{xs:12,sm:6,children:e.jsx(l,{className:"stat-card",children:e.jsx(y,{title:"Điểm tích lũy",value:n.loyaltyPoints,prefix:e.jsx(Se,{size:20,color:"#faad14"}),valueStyle:{color:"#faad14",fontSize:"24px",fontWeight:"bold"}})})})]}),e.jsx(l,{className:"content-tabs-card",children:e.jsxs(Y,{activeKey:G,onChange:E,size:"large",tabBarStyle:{marginBottom:24},children:[e.jsx(u,{tab:e.jsxs(t,{children:[e.jsx(k,{size:16}),"Thông tin cá nhân"]}),children:e.jsxs(o,{form:f,layout:"vertical",onFinish:R,disabled:!M,children:[e.jsxs(p,{gutter:[24,16],children:[e.jsx(r,{xs:24,md:12,children:e.jsx(o.Item,{label:"Họ và tên",name:"name",rules:[{required:!0,message:"Vui lòng nhập họ tên!"}],children:e.jsx(g,{size:"large",prefix:e.jsx(k,{size:16})})})}),e.jsx(r,{xs:24,md:12,children:e.jsx(o.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Vui lòng nhập email!"},{type:"email",message:"Email không hợp lệ!"}],children:e.jsx(g,{size:"large",prefix:e.jsx(B,{size:16})})})}),e.jsx(r,{xs:24,md:12,children:e.jsx(o.Item,{label:"Số điện thoại",name:"phone",children:e.jsx(g,{size:"large",prefix:e.jsx(_,{size:16})})})}),e.jsx(r,{xs:24,md:12,children:e.jsx(o.Item,{label:"Ngày sinh",name:"birthDate",children:e.jsx(de,{size:"large",style:{width:"100%"},format:"DD/MM/YYYY",placeholder:"Chọn ngày sinh"})})}),e.jsx(r,{xs:24,md:12,children:e.jsx(o.Item,{label:"Giới tính",name:"gender",children:e.jsxs(N,{size:"large",placeholder:"Chọn giới tính",children:[e.jsx(x,{value:"male",children:"Nam"}),e.jsx(x,{value:"female",children:"Nữ"}),e.jsx(x,{value:"other",children:"Khác"})]})})}),e.jsx(r,{xs:24,md:12,children:e.jsx(o.Item,{label:"Thành phố",name:"city",children:e.jsxs(N,{size:"large",placeholder:"Chọn thành phố",children:[e.jsx(x,{value:"ho-chi-minh",children:"Thành phố Hồ Chí Minh"}),e.jsx(x,{value:"ha-noi",children:"Hà Nội"}),e.jsx(x,{value:"da-nang",children:"Đà Nẵng"}),e.jsx(x,{value:"can-tho",children:"Cần Thơ"})]})})}),e.jsx(r,{xs:24,children:e.jsx(o.Item,{label:"Địa chỉ",name:"address",children:e.jsx(g.TextArea,{size:"large",rows:3,placeholder:"Nhập địa chỉ của bạn"})})})]}),e.jsx(te,{}),e.jsx(t,{children:M?e.jsxs(e.Fragment,{children:[e.jsx(h,{type:"primary",htmlType:"submit",loading:F,icon:e.jsx(fe,{size:16}),size:"large",children:"Lưu thay đổi"}),e.jsx(h,{onClick:()=>m(!1),size:"large",children:"Hủy"})]}):e.jsx(h,{type:"primary",onClick:()=>m(!0),icon:e.jsx(Ne,{size:16}),size:"large",children:"Chỉnh sửa thông tin"})})]})},"info"),e.jsx(u,{tab:e.jsxs(t,{children:[e.jsx(D,{size:16}),"Lịch sử đặt vé"]}),children:e.jsx(he,{columns:K,dataSource:q,rowKey:"id",pagination:{pageSize:10},scroll:{x:800},className:"booking-history-table"})},"history"),e.jsx(u,{tab:e.jsxs(t,{children:[e.jsx(P,{size:16}),"Phim yêu thích"]}),children:C.length>0?e.jsx(p,{gutter:[16,16],children:C.map(s=>e.jsx(r,{xs:12,sm:8,md:6,lg:4,children:e.jsx(l,{hoverable:!0,cover:e.jsx("img",{src:s.poster,alt:s.title,style:{height:200,objectFit:"cover"}}),className:"favorite-movie-card",children:e.jsx(l.Meta,{title:e.jsx(a,{ellipsis:{tooltip:s.title},children:s.title}),description:e.jsxs(t,{direction:"vertical",size:4,children:[e.jsxs(t,{children:[e.jsx(ie,{size:12,fill:"#faad14",color:"#faad14"}),e.jsx(a,{children:s.rating})]}),e.jsx(a,{type:"secondary",children:s.year})]})})})},s.id))}):e.jsx(ae,{description:"Chưa có phim yêu thích nào"})},"favorites"),e.jsx(u,{tab:e.jsxs(t,{children:[e.jsx(be,{size:16}),"Cài đặt"]}),children:e.jsxs(t,{direction:"vertical",size:16,style:{width:"100%"},children:[e.jsx(l,{title:"Cài đặt thông báo",size:"small",children:e.jsxs(t,{direction:"vertical",size:12,style:{width:"100%"},children:[e.jsx("div",{className:"setting-item",children:e.jsxs(t,{justify:"space-between",style:{width:"100%"},children:[e.jsxs(t,{children:[e.jsx(L,{size:16}),e.jsx(a,{children:"Thông báo email"})]}),e.jsx(h,{size:"small",children:"Bật"})]})}),e.jsx("div",{className:"setting-item",children:e.jsxs(t,{justify:"space-between",style:{width:"100%"},children:[e.jsxs(t,{children:[e.jsx(L,{size:16}),e.jsx(a,{children:"Thông báo push"})]}),e.jsx(h,{size:"small",children:"Bật"})]})})]})}),e.jsx(l,{title:"Bảo mật",size:"small",children:e.jsxs(t,{direction:"vertical",size:12,style:{width:"100%"},children:[e.jsx("div",{className:"setting-item",children:e.jsxs(t,{justify:"space-between",style:{width:"100%"},children:[e.jsxs(t,{children:[e.jsx(V,{size:16}),e.jsx(a,{children:"Đổi mật khẩu"})]}),e.jsx(h,{size:"small",type:"primary",children:"Đổi"})]})}),e.jsx("div",{className:"setting-item",children:e.jsxs(t,{justify:"space-between",style:{width:"100%"},children:[e.jsxs(t,{children:[e.jsx(V,{size:16}),e.jsx(a,{children:"Xác thực 2 bước"})]}),e.jsx(h,{size:"small",children:"Bật"})]})})]})})]})},"settings")]})})]}),e.jsx(re,{style:{height:50,width:50,backgroundColor:"#ff6b35",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(255, 107, 53, 0.3)"},children:e.jsx(ne,{style:{color:"white",fontSize:"20px"}})})]})};export{Re as default};
